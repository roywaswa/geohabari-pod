@use "sass:math";

@use './_mixins.scss' as *;
@use './_functions.scss' as *;
@use './_variables.scss' as *;

// ------------------------------
// Font Faces
// ------------------------------

// Regular
@include font-face('Bender', 'bender', 400, normal);

// Italic
@include font-face('Bender', 'bender-italic', 400, italic);

// Light
@include font-face('Bender', 'bender-light', 300, normal);
@include font-face('Bender', 'bender-lightitalic', 300, italic);

// Bold
@include font-face('Bender', 'bender-bold', 700, normal);
@include font-face('Bender', 'bender-bolditalic', 700, italic);

// Black
@include font-face('Bender', 'bender-black', 900, normal);
@include font-face('Bender', 'bender-blackitalic', 900, italic);

// ---- sensible defaults so it won't crash if not defined elsewhere
$black: #111 !default;

// ---- base settings (feel free to override before importing this file)
$base-size-min: 12px !default; // smallest root font size
$base-size-max: 18px !default; // largest root font size
$scale-ratio: 1.333!default;   // Major Third

// px → rem helper (modern division)
@function rem($px, $context: 16px) {
  @return math.div($px, $context) * 1rem;
}

// simplified heading scale: -1 .. 4 (H4→H1)
$scale-steps: (
  -1: math.div(1, $scale-ratio),  // small text
   0: 1,                          // body
   1: $scale-ratio,               // h4
   2: math.pow($scale-ratio, 2),  // h3
   3: math.pow($scale-ratio, 3),  // h2
   4: math.pow($scale-ratio, 4)   // h1
);

// ---- :root variables
:root {
  // fluid root so rems scale everywhere
  font-size: clamp(#{$base-size-min}, 1.5vw, #{$base-size-max});

  // type scale vars (avoid deprecated math & runtime multiplications)
  @each $step, $m in $scale-steps {
    --fs-#{$step}: clamp(
      #{rem($base-size-min * $m)},
      calc(#{$m * 1rem} + 0.5vw),
      #{rem($base-size-max * $m)}
    );
  }

  // utility sizes
  --fs-button: clamp(0.875rem, calc(1rem + 0.2vw), 1rem);
  --fs-small: var(--fs--1);
}

body {
  @include font-stack;
  font-size: var(--fs-0);
  line-height: 1.6;
  font-weight: 400;
  letter-spacing: 0;
}

// ---- headings (4-step hierarchy)
h1, h2, h3, h4 {
  font-family: 'Bender', 'Segoe UI', sans-serif;
  font-weight: 700;
  margin: 0 0 0.5em;
  color: $black;
}

h1 { font-size: var(--fs-4); line-height: 1.15; letter-spacing: -0.02em; }
h2 { font-size: var(--fs-3); line-height: 1.20; letter-spacing: -0.015em; }
h3 { font-size: var(--fs-2); line-height: 1.25; letter-spacing: -0.01em; }
h4 { font-size: var(--fs-1); line-height: 1.30; letter-spacing: -0.005em; }

// ---- text elements
p     { margin: 0 0 1em; }
small { font-size: var(--fs-small); line-height: 1.4; letter-spacing: 0.01em; }
strong, b { font-weight: 700; }

// ---- buttons
button,
.btn {
  font-size: var(--fs-button);
  font-weight: 600;
  letter-spacing: 0.03em;
  text-transform: uppercase;
}
